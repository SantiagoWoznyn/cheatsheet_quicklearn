SELECT User, Host FROM mysql.user;    ver usuarios existente obviamente con root

-----------------------------------------------------------------------------------------------

1. Usuario con acceso limitado a una base de datos

Supongamos que tienes una base de datos llamada miapp.

-- Crear el usuario
CREATE USER 'usuario_app'@'localhost' IDENTIFIED BY 'claveFuerte123';

-- Dar permisos solo sobre esa base de datos
GRANT SELECT, INSERT, UPDATE, DELETE ON miapp.* TO 'usuario_app'@'localhost';

-- Aplicar los cambios
FLUSH PRIVILEGES;

Este usuario podr치 consultar y modificar datos en miapp, pero no podr치 crear o borrar tablas, ni ver otras bases.

----------------------------------------------------------------------------------------------------------

游댏 2. Usuario con acceso completo (similar a root)

-- Crear el usuario
CREATE USER 'adminfull'@'%' IDENTIFIED BY 'claveAdmin456';

-- Darle todos los privilegios sobre todas las bases
GRANT ALL PRIVILEGES ON *.* TO 'adminfull'@'%' WITH GRANT OPTION;

-- Aplicar los cambios
FLUSH PRIVILEGES;

----------------------------------------------------------------------------------------------------

'localhost' porque es necesario esto?

ChatGPT said:

Buena pregunta. El 'localhost' en MySQL define desde qu칠 lugar (host/IP) puede conectarse ese usuario. Es un filtro de seguridad incorporado directamente en el sistema de autenticaci칩n de MySQL.
游댌 쯈u칠 significa 'localhost'?

    'usuario'@'localhost' significa:
    游녤 El usuario solo puede conectarse desde la misma m치quina donde est치 instalado el servidor MySQL.

        Internamente usa el socket UNIX en vez de TCP/IP (m치s seguro y r치pido).

游깷 쯈u칠 pasa si uso '%'?

    'usuario'@'%' significa:
    游녤 Puede conectarse desde cualquier IP o m치quina, siempre que tenga red hacia el servidor.

Esto es 칰til si tu app corre en otra m치quina o si acceder치s desde una red, pero es m치s riesgoso si no filtras bien por firewall o IPs confiables.
游꿢 Ejemplos comunes
Host	쮻esde d칩nde se puede conectar?
'localhost'	Solo desde el mismo servidor
'192.168.1.10'	Solo desde esa IP espec칤fica
'%'	Desde cualquier direcci칩n IP
'app%'	Desde cualquier host que empiece con app, como app01, app02, etc.
游댏 Recomendaci칩n de seguridad

Usa 'localhost' si la aplicaci칩n y la base de datos est치n en la misma m치quina, y solo abre a otras IPs espec칤ficas si es necesario, usando firewall + reglas precisas.

쯇laneas acceder desde otra VM o desde tu red v2 (detr치s de pfSense)? Puedo ayudarte a configurar eso correctamente.


Le das acceso a la nueva base de datos con:

GRANT SELECT, INSERT, UPDATE, DELETE ON miapp.* TO 'usuario_app'@'localhost';
FLUSH PRIVILEGES;

    @'%' permite conexi칩n desde cualquier IP.

    WITH GRANT OPTION le permite a este usuario dar permisos a otros usuarios.

